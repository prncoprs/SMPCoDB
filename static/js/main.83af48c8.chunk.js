(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[2],{466:function(e,t,n){},825:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(62),r=n.n(c),o=(n(466),n(15)),s=n(439),l=n(133),u=n(877),d=n(884),j=n(332),b=n(892),h=n(893),m=(n(573),n(448)),f=n(890),p=n(891),g=n(540),x=n(885),O=n(216),v=n(880),y=n(295),C=n.n(y),k=n(32),w=i.a.createContext({});function S(e){var t=e.children,n=i.a.useState([]),a=Object(o.a)(n,2),c=a[0],r=a[1],s=i.a.useState(!1),l=Object(o.a)(s,2),u=l[0],d=l[1];i.a.useEffect((function(){var e=localStorage.getItem("tableStructure");null!==e&&r(JSON.parse(e))}),[]),i.a.useEffect((function(){localStorage.setItem("tableStructure",JSON.stringify(c))}),[c]);var j=i.a.useCallback((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];localStorage.setItem("tableStructure",JSON.stringify(e)),t&&r(JSON.parse(JSON.stringify(e)))}),[c]),b={configs:c,setConfigs:j,setOpenRawConfigDialog:d,openRawConfigDialog:u};return Object(k.jsx)(w.Provider,{value:b,children:t})}var _=n(412),R=n(879),I=n(882),N={$schema:"http://json-schema.org/draft-06/schema#",type:"array",items:{$ref:"#/definitions/TableConfigElement"},definitions:{TableConfigElement:{type:"object",additionalProperties:!1,properties:{data_sizes:{type:"array",items:{type:"integer"}},data_paths:{type:"array",items:{type:"string"}},table_name:{type:"string"},owner:{type:"string"},columns:{type:"array",items:{$ref:"#/definitions/Column"}}},required:["columns","data_sizes","table_name"],title:"TableConfigElement"},Column:{type:"object",additionalProperties:!1,properties:{column_type:{type:"string"},name:{type:"string"}},required:["column_type","name"],title:"Column"}}};function T(){var e=i.a.useContext(w),t=e.setOpenRawConfigDialog,n=e.openRawConfigDialog,a=e.configs,c=e.setConfigs,r=i.a.useState(""),s=Object(o.a)(r,2),l=s[0],u=s[1],d=i.a.useCallback((function(){u(JSON.stringify(a,null,4)),t(!0)}),[a]),j=i.a.useCallback((function(){c(JSON.parse(l)),t(!1)}),[l]),b=i.a.useCallback((function(e){e.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:[{uri:"https://raw.githubusercontent.com/sirily11/SECYAN-GEN/master/examples/table_config.json",fileMatch:["*"],schema:N}]})}),[l]);return Object(k.jsxs)(R.a,{title:"Table Configuration",subTitle:"Config your table's info here",extra:[Object(k.jsx)(O.a,{type:"primary",onClick:d,children:"Set Raw Data"})],children:[Object(k.jsxs)(v.a,{style:{maxWidth:"800px"},children:["You can either use the raw Data Config Editor to modify your database table's infomation, or use the GUI below to modify your table. You can check this"," ",Object(k.jsx)(v.a.Link,{target:"_blank",href:"https://github.com/sirily11/SECYAN-GEN/blob/master/examples/table_config.json",children:"Link"})," ","for example table configuration."]}),Object(k.jsx)(I.a,{title:"Raw Data Configuration",visible:n,onOk:j,onCancel:j,footer:[Object(k.jsx)(O.a,{onClick:j,children:"Close"})],width:.8*window.innerWidth,children:Object(k.jsx)(_.a,{height:500,language:"json",options:{minimap:{enabled:!1}},beforeMount:function(e){return b(e)},value:l,onChange:function(e){u(null!==e&&void 0!==e?e:"")}})})]})}var E=n(154),L=n(450),z=n(878),D=n(221),A=n(883),J=n(881),q=n(886),P=n(541),B=n(887),K=n(542),M=["int","string","decimal","date"],F=["CLIENT","SERVER"];function V(e){var t,n=e.config,a=e.index,c=i.a.useState(n.table_name),r=Object(o.a)(c,2),s=r[0],l=r[1],u=i.a.useState(n.owner),b=Object(o.a)(u,2),h=b[0],m=b[1],f=i.a.useState(!1),p=Object(o.a)(f,2),x=p[0],y=p[1],C=i.a.useContext(w),S=C.setConfigs,_=C.configs,R=i.a.useCallback((function(){for(var e,t,a,i,c=Math.max(null!==(e=null===n||void 0===n||null===(t=n.data_paths)||void 0===t?void 0:t.length)&&void 0!==e?e:0,null!==(a=null===n||void 0===n||null===(i=n.data_sizes)||void 0===i?void 0:i.length)&&void 0!==a?a:0),r=Array.from(Array(c)).map((function(e){return{size:void 0,path:void 0}})),o=0;o<c;o++){var s,l,u,d;return(null!==(s=null===n||void 0===n||null===(l=n.data_sizes)||void 0===l?void 0:l.length)&&void 0!==s?s:0<o)&&(r[o].size=n.data_sizes[o]),(null!==(u=null===n||void 0===n||null===(d=n.data_paths)||void 0===d?void 0:d.length)&&void 0!==u?u:0<o)&&(r[o].path=n.data_paths[o]),{path_size:r,columns:n.columns}}}),[n]),N=i.a.useCallback((function(){_[a].table_name=s,_[a].owner=h,S(_),y(!1)}),[s,h]),T=i.a.useCallback((function(e){var t=e.path_size.filter((function(e){return void 0!==e}));_[a].data_sizes=t.map((function(e){return parseInt(e.size)})),_[a].data_paths=t.map((function(e){return e.path})),_[a].columns=e.columns,S(_,!1)}),[n]),V=i.a.useCallback((function(){I.a.confirm({title:"confirm",content:"Delete this table",onOk:function(){_.splice(a,1),S(JSON.parse(JSON.stringify(_))),g.a.success({message:"Table deleted",placement:"bottomRight"})}})}),[n]);return Object(k.jsxs)(d.a,{id:n.table_name,title:"".concat(n.table_name," - ").concat(null!==(t=n.owner)&&void 0!==t?t:"Client"),style:{margin:10},extra:[Object(k.jsx)(O.a,{shape:"circle",onClick:V,style:{marginRight:10},children:Object(k.jsx)(q.a,{})}),Object(k.jsx)(O.a,{shape:"circle",onClick:function(){return y(!0)},children:Object(k.jsx)(P.a,{})})],children:[Object(k.jsxs)(z.a,{initialValues:R(),onValuesChange:function(e,t){T(t)},children:[Object(k.jsx)(v.a.Title,{level:5,children:"Data Sizes and Paths"}),Object(k.jsx)(z.a.List,{name:"path_size",children:function(e,t){var n=t.add,a=t.remove;return Object(k.jsxs)(j.a,{gutter:[10,10],children:[e.map((function(e){var t=e.key,n=e.name,i=e.fieldKey,c=Object(L.a)(e,["key","name","fieldKey"]);return Object(k.jsx)(D.a,{style:{display:"flex",marginBottom:8},xs:24,md:12,children:Object(k.jsxs)(j.a,{style:{width:"100%"},gutter:[20,10],children:[Object(k.jsx)(D.a,{md:10,xs:24,children:Object(k.jsx)(z.a.Item,Object(E.a)(Object(E.a)({},c),{},{name:[n,"size"],fieldKey:[i,"size"],rules:[{required:!0,message:"Data Size is required"}],children:Object(k.jsx)(A.a,{placeholder:"Data size",type:"number"})}))}),Object(k.jsx)(D.a,{md:12,xs:22,children:Object(k.jsx)(z.a.Item,Object(E.a)(Object(E.a)({},c),{},{name:[n,"path"],fieldKey:[i,"path"],rules:[{required:!0,message:"Data Path is required"}],children:Object(k.jsx)(A.a,{placeholder:"Data path"})}))}),Object(k.jsx)(D.a,{span:2,children:Object(k.jsx)(B.a,{className:"dynamic-delete-button",onClick:function(){return a(n)}})})]})},"path_size-".concat(t))})),Object(k.jsx)(D.a,{xs:24,children:Object(k.jsx)(z.a.Item,{children:Object(k.jsx)(O.a,{type:"dashed",onClick:function(){return n()},block:!0,icon:Object(k.jsx)(K.a,{}),children:"Add Data Path and Size"})})})]})}}),Object(k.jsx)(v.a.Title,{level:5,children:"Table Columns"}),Object(k.jsx)(z.a.List,{name:"columns",children:function(e,t){var n=t.add,a=t.remove;return Object(k.jsxs)(j.a,{gutter:[10,10],children:[e.map((function(e){var t=e.key,n=e.name,i=e.fieldKey,c=Object(L.a)(e,["key","name","fieldKey"]);return Object(k.jsx)(D.a,{style:{display:"flex",marginBottom:8},xs:24,children:Object(k.jsxs)(j.a,{style:{width:"100%"},gutter:[20,10],children:[Object(k.jsx)(D.a,{md:5,xs:24,children:Object(k.jsx)(z.a.Item,Object(E.a)(Object(E.a)({},c),{},{name:[n,"column_type"],fieldKey:[i,"type"],rules:[{required:!0,message:"Column type is required"}],children:Object(k.jsx)(J.a,{children:M.map((function(e,t){return Object(k.jsx)(J.a.Option,{value:e,children:e})}))})}))}),Object(k.jsx)(D.a,{md:5,xs:22,children:Object(k.jsx)(z.a.Item,Object(E.a)(Object(E.a)({},c),{},{name:[n,"name"],fieldKey:[i,"name"],rules:[{required:!0,message:"Column name is required"}],children:Object(k.jsx)(A.a,{placeholder:"Column Name"})}))}),Object(k.jsx)(D.a,{span:2,children:Object(k.jsx)(B.a,{onClick:function(){return a(n)}})})]})},"column-".concat(t))})),Object(k.jsx)(D.a,{xs:24,children:Object(k.jsx)(z.a.Item,{children:Object(k.jsx)(O.a,{type:"dashed",onClick:function(){return n()},block:!0,icon:Object(k.jsx)(K.a,{}),children:"Add Column"})})})]})}})]}),Object(k.jsxs)(I.a,{visible:x,title:"Table name",onCancel:function(){l(n.table_name),m(n.owner),y(!1)},onOk:N,children:[Object(k.jsx)(A.a,{placeholder:"Table name",value:s,onChange:function(e){l(e.target.value)}}),Object(k.jsx)(J.a,{style:{width:"100%",marginTop:20},placeholder:"Select Owner",value:h,onChange:function(e){return m(e)},children:F.map((function(e){return Object(k.jsx)(J.a.Option,{value:e,children:e},e)}))})]})]},n.table_name)}function U(){var e=i.a.useContext(w),t=e.configs,n=e.setConfigs,a=i.a.useState(!1),c=Object(o.a)(a,2),r=c[0],s=c[1],l=i.a.useState(!0),u=Object(o.a)(l,2),d=u[0],b=u[1];i.a.useEffect((function(){setTimeout((function(){b(!1)}),50)}),[]);var h=i.a.useCallback((function(){t.push({table_name:"table",data_sizes:[],data_paths:[],columns:[],owner:"Server"}),n(t),s(!1),g.a.success({message:"Added a new table",placement:"bottomRight"})}),[t]);return Object(k.jsxs)("div",{style:{overflowY:"scroll",height:"100%"},children:[Object(k.jsx)(T,{}),!d&&t.map((function(e,t){return Object(k.jsx)(V,{config:e,index:t},"config-".concat(t))})),Object(k.jsx)(x.a,{offsetBottom:20,style:{position:"fixed",right:10},children:Object(k.jsx)(j.a,{justify:"end",children:Object(k.jsx)(O.a,{type:"primary",style:{marginRight:20},onClick:function(){return s(!0)},children:"Add Table"})})}),Object(k.jsx)(C.a,{visible:r,title:"Add New Table",onOk:h,onCancel:function(){s(!1)},children:Object(k.jsx)(v.a,{children:"Create a empty table?"})})]})}var G=n(447),H=n(12),Y=n.n(H),W=n(395),$=n(529),Q=n.n($),X=n(7),Z=n(1),ee=n(2),te=n(290),ne=[{keyword:"select",desc:""},{keyword:"from",desc:""},{keyword:"where",desc:""},{keyword:"sum",desc:"Aggregation function"},{keyword:"max",desc:"Aggregation function"},{keyword:"avg",desc:"Aggregation function"},{keyword:"count",desc:"Aggregation function"},{keyword:"group by",desc:""},{keyword:"desc",desc:""},{keyword:"limit",desc:""},{keyword:"having",desc:""},{keyword:"exists",desc:""}],ae=function(){function e(){Object(Z.a)(this,e)}return Object(ee.a)(e,null,[{key:"getURL",value:function(e){return new URL(e,"https://cwvf54ckb6.execute-api.ap-east-1.amazonaws.com/dev/").href}},{key:"generateHover",value:function(e,t,n,a){if(!a)return{range:e,contents:[]};var i,c=Object(X.a)(ne);try{for(c.s();!(i=c.n()).done;){var r=i.value;if(n.toLowerCase().includes(r.keyword.toLowerCase()))return{range:e,contents:[{value:"SQL Built In"},{value:r.desc}]}}}catch(b){c.e(b)}finally{c.f()}var o,s=Object(X.a)(a);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(n.toLowerCase().includes(l.table_name.toLowerCase()))return{range:e,contents:[{value:"Table Name"}]};var u,d=Object(X.a)(l.columns);try{for(d.s();!(u=d.n()).done;){var j=u.value;if(n.toLocaleLowerCase().includes(j.name.toLowerCase()))return{range:e,contents:[{value:l.table_name},{value:"**Type: ".concat(j.column_type,"**")}]}}}catch(b){d.e(b)}finally{d.f()}}}catch(b){s.e(b)}finally{s.f()}}},{key:"generateSuggestions",value:function(e,t){if(t){var n,a=[],i=Object(X.a)(t);try{for(i.s();!(n=i.n()).done;){var c=n.value;a.push({label:c.table_name,kind:te.a.CompletionItemKind.Constant,documentation:"",insertText:c.table_name.toUpperCase(),insertTextRules:te.a.CompletionItemInsertTextRule.InsertAsSnippet,range:e});var r,o=Object(X.a)(c.columns);try{for(o.s();!(r=o.n()).done;){var s=r.value;a.push({label:s.name,kind:te.a.CompletionItemKind.Constant,documentation:"".concat(s.column_type),insertText:s.name,insertTextRules:te.a.CompletionItemInsertTextRule.InsertAsSnippet,range:e})}}catch(j){o.e(j)}finally{o.f()}}}catch(j){i.e(j)}finally{i.f()}var l,u=Object(X.a)(ne);try{for(u.s();!(l=u.n()).done;){var d=l.value;a.push({label:d.keyword,kind:te.a.CompletionItemKind.Keyword,document:d.desc,insertText:d.keyword.toUpperCase(),insertTextRules:te.a.CompletionItemInsertTextRule.InsertAsSnippet,range:e})}}catch(j){u.e(j)}finally{u.f()}return a}return[]}}]),e}(),ie=i.a.createContext({});function ce(e){var t=e.children,n=i.a.useState([]),a=Object(o.a)(n,2),c=a[0],r=a[1],s=i.a.useState(!1),l=Object(o.a)(s,2),u=l[0],d=l[1],j=i.a.useState(0),b=Object(o.a)(j,2),h=b[0],m=b[1],f=i.a.useState(!1),p=Object(o.a)(f,2),x=p[0],O=p[1];i.a.useEffect((function(){var e=localStorage.getItem("code");if(e)try{r(JSON.parse(e))}catch(t){console.log("No Code Saved")}}),[]);var v=i.a.useCallback((function(e){localStorage.setItem("code",JSON.stringify(e)),r(JSON.parse(JSON.stringify(e)))}),[c]),y=i.a.useCallback(function(){var e=Object(W.a)(Y.a.mark((function e(t,n){var a,i,r,o,s;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ae.getURL("/generate_python"),i=c[t],e.prev=2,d(!0),e.next=6,Q.a.post(a,{sql:i.code,annotation_name:i.annotation_name,num_of_rows:i.num_of_rows,table:JSON.stringify(n)});case 6:r=e.sent,c[t].result=r.data,v(c),g.a.info({message:"Code results returned",placement:"bottomRight"}),d(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),d(!1),g.a.error({message:"Cannot generate code",description:"".concat(null!==(o=null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s?void 0:s.data)&&void 0!==o?o:"Cannot connect to the backend"),duration:5,placement:"bottomRight"});case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}(),[c]),C={codeRunResults:c,setCodeRunResults:v,runCode:y,isLoading:u,index:h,setIndex:m,showEdit:x,setShowEdit:O};return Object(k.jsx)(ie.Provider,{value:C,children:t})}var re=i.a.createContext({});function oe(e){var t=i.a.useState("Server"),n=Object(o.a)(t,2),a=n[0],c=n[1],r=i.a.useState("Default Backend"),s=Object(o.a)(r,2),l=s[0],u=s[1];i.a.useEffect((function(){var e=localStorage.getItem("role"),t=localStorage.getItem("");e&&c(e),t&&u(t)}),[]);var d={role:a,setRole:i.a.useCallback((function(e){localStorage.setItem("role",e),c(e)}),[]),backend:l,setBackend:i.a.useCallback((function(e){localStorage.setItem("backend",e),u(e)}),[])};return Object(k.jsx)(re.Provider,{value:d,children:e.children})}var se=n(530),le=void 0,ue=void 0;function de(e){var t=e.codeRunResult,n=e.index,a=i.a.useContext(ie),c=a.setCodeRunResults,r=a.codeRunResults,s=(a.showEdit,a.setShowEdit,i.a.useState(!0)),l=Object(o.a)(s,2),u=l[0],d=l[1],b=i.a.useContext(w).configs,h=i.a.useContext(re).role,m=i.a.useState(),f=Object(o.a)(m,2),p=f[0],x=f[1];i.a.useEffect((function(){return function(){var e,t;null===(e=le)||void 0===e||e.dispose(),null===(t=ue)||void 0===t||t.dispose()}}),[]);var O=i.a.useCallback((function(e){ue=e.languages.registerCompletionItemProvider("sql",{provideCompletionItems:function(e,t){var n=e.getWordUntilPosition(t),a={startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,startColumn:n.startColumn,endColumn:n.endColumn};if(b)return{suggestions:ae.generateSuggestions(a,b)}}}),le=e.languages.registerHoverProvider("sql",{provideHover:function(e,t){var n,a=e.getWordAtPosition(t),i={startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,startColumn:null===a||void 0===a?void 0:a.startColumn,endColumn:null===a||void 0===a?void 0:a.endColumn};return ae.generateHover(i,e,null!==(n=null===a||void 0===a?void 0:a.word)&&void 0!==n?n:"",b)}})}),[b,p]);i.a.useEffect((function(){g.a.info({message:"Loading Data",placement:"bottomRight"})}),[]);var v=i.a.useCallback((function(e){r[n].code=e,c(r)}),[t]);return Object(k.jsx)("div",{style:{padding:10},children:Object(k.jsxs)(j.a,{gutter:[10,10],children:[Object(k.jsx)(D.a,{xs:8,children:Object(k.jsx)(_.a,{value:t.code,onMount:function(e){x(e),d(!1),g.a.close("Data Loaded")},language:"sql",beforeMount:function(e){return O(e)},options:{minimap:{enabled:!1}},height:"calc(100vh - 64px - 56px - 20px)",onChange:function(e){v(e)}})}),Object(k.jsx)(D.a,{xs:16,style:{overflowY:"scroll",overflowX:"scroll",height:"100%"},children:Object(k.jsx)("div",{style:{height:"calc(100vh - 64px - 56px - 30px)",overflowY:"hidden"},children:t.result&&!u&&Object(k.jsx)(se.a,{columns:function(){var e,n,a,i="Server"===h?null===(e=t.result)||void 0===e?void 0:e.server_result:null===(n=t.result)||void 0===n?void 0:n.client_result;return null!==(a=null===i||void 0===i?void 0:i.length)&&void 0!==a&&a?i[0].map((function(e){return{title:e.toLocaleUpperCase(),field:e.toLowerCase(),width:20*e.length}})):[]}(),rows:function(){var e,n,a=[],i="Server"===h?null===(e=t.result)||void 0===e?void 0:e.server_result:null===(n=t.result)||void 0===n?void 0:n.client_result;if(i){var c=i[0];i.slice(1).forEach((function(e,t){var n={id:t};e.forEach((function(e,t){n[c[t]]=e})),a.push(n)}))}return a}(),rowHeight:60})})})]})})}function je(){var e=i.a.useContext(ie),t=e.codeRunResults,n=e.setCodeRunResults,a=e.setIndex,c=(i.a.useContext(w).configs,i.a.useCallback((function(){return t.map((function(e,t){return Object(k.jsx)(G.a.TabPane,{tab:e.name,style:{height:"100%"},children:Object(k.jsx)(de,{codeRunResult:e,index:t})},t)}))}),[t]));return Object(k.jsx)(G.a,{type:"editable-card",style:{height:"100%"},addIcon:Object(k.jsx)(K.a,{}),onChange:function(e){a(parseInt(e))},onEdit:function(e,a){"add"===a?(t.push({name:"newResult",code:"",num_of_rows:100,annotation_name:"q3_annot"}),n(t)):(t.splice(parseInt(e),1),n(t))},children:c()})}var be=n(231),he=n(539),me=n(888),fe=n(889),pe=n(532),ge=n.n(pe);function xe(){var e,t=i.a.useContext(ie),n=null===(e=t.codeRunResults[t.index])||void 0===e?void 0:e.result;return Object(k.jsx)("div",{style:{height:500,width:1e3},children:n&&Object(k.jsx)(ge.a,{data:n.joinGraph,orientation:"vertical",pathFunc:"step",translate:{y:100,x:400},nodeSize:{x:257,y:175}})})}function Oe(){var e,t=i.a.useContext(ie),n=t.setCodeRunResults,a=t.codeRunResults,c=t.runCode,r=t.isLoading,s=t.index,l=t.setShowEdit,u=t.showEdit,d=i.a.useContext(w).configs,b=z.a.useForm(),h=Object(o.a)(b,1)[0],m=i.a.useCallback((function(){var e=h.getFieldsValue();a[s].annotation_name=e.annotation_name,a[s].name=e.name,a[s].num_of_rows=parseInt(e.num_of_rows),n(a),l(!1)}),[a,s]);return i.a.useEffect((function(){h.setFieldsValue(a[s])}),[u]),Object(k.jsxs)(j.a,{justify:"end",style:{marginRight:20},children:[Object(k.jsx)(be.a,{title:"Run Code",children:Object(k.jsx)(O.a,{shape:"round",size:"large",style:{marginRight:10},loading:r,onClick:Object(W.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(s,d);case 2:case"end":return e.stop()}}),e)}))),children:Object(k.jsx)(me.a,{})})}),Object(k.jsx)(be.a,{title:"Rename",children:Object(k.jsx)(O.a,{shape:"round",size:"large",style:{marginRight:10},onClick:function(){l(!0)},children:Object(k.jsx)(P.a,{})})}),(null===(e=a[s])||void 0===e?void 0:e.result)&&Object(k.jsx)(he.a,{content:Object(k.jsx)(xe,{}),placement:"leftBottom",trigger:"click",children:Object(k.jsx)(be.a,{title:"Join Tree",children:Object(k.jsx)(O.a,{shape:"round",size:"large",style:{marginRight:10},onClick:function(){},children:Object(k.jsx)(fe.a,{})})})}),Object(k.jsx)(C.a,{title:"Configuration",visible:u,onOk:m,onCancel:function(){h.resetFields(),l(!1)},children:Object(k.jsxs)(z.a,{initialValues:a[s],form:h,children:[Object(k.jsx)(z.a.Item,{name:"name",label:"Name",children:Object(k.jsx)(A.a,{placeholder:"Name"})}),Object(k.jsx)(z.a.Item,{name:"num_of_rows",label:"Number of rows",children:Object(k.jsx)(A.a,{placeholder:"Num of rows",type:"number"})}),Object(k.jsx)(z.a.Item,{name:"annotation_name",label:"Annotation Name",children:Object(k.jsx)(A.a,{placeholder:"Annotation Name"})})]})})]})}function ve(){var e=i.a.useContext(re),t=e.role,n=e.setRole,a=e.backend,c=e.setBackend,r={role:t,backend:a};return Object(k.jsxs)("div",{style:{padding:10},children:[Object(k.jsx)(v.a.Title,{level:3,children:"Settings"}),Object(k.jsxs)(d.a,{children:[Object(k.jsx)(v.a.Title,{level:5,children:"General Settings"}),Object(k.jsxs)(z.a,{initialValues:r,onValuesChange:function(e){e.role&&n(e.role),e.backend&&c(e.backend)},children:[Object(k.jsx)(z.a.Item,{label:"Role",name:"role",children:Object(k.jsx)(J.a,{children:["Client","Server"].map((function(e,t){return Object(k.jsx)(J.a.Option,{value:e,children:e},"role-".concat(t))}))})}),Object(k.jsx)(z.a.Item,{label:"Backend",name:"backend",extra:"This will only affect the c++ code generator",children:Object(k.jsx)(J.a,{children:["Default Backend","Postgres Backend"].map((function(e,t){return Object(k.jsx)(J.a.Option,{value:e,children:e},"role-".concat(t))}))})})]})]})]})}var ye=[{path:"/",title:"Table Config",component:Object(k.jsx)(U,{}),icon:Object(k.jsx)(f.a,{}),hasSubMenu:!0},{path:"/settings",title:"Settings",component:Object(k.jsx)(ve,{}),icon:Object(k.jsx)(p.a,{}),hasSubMenu:!1},{path:"/editor",title:"Query Editor",component:Object(k.jsx)(je,{}),icon:Object(k.jsx)(p.a,{}),hasSubMenu:!1,action:Object(k.jsx)(Oe,{})}],Ce=n(533),ke=n.n(Ce);function we(e){var t=i.a.useContext(w).configs,n=Object(l.g)(),a=Object(l.f)(),c=i.a.useState(ye[0].title),r=Object(o.a)(c,2),s=r[0],u=r[1];e.expanded;i.a.useEffect((function(){if(n.pathname!==ye[0].path){var e=ye.find((function(e){return n.pathname.includes(e.path)&&e.path!==ye[0].path}));e&&u(null===e||void 0===e?void 0:e.title)}else u(ye[0].path)}),[n]);var d=i.a.useCallback((function(e){return e===ye[0].path?t.map((function(e,t){return Object(k.jsx)(m.a.Item,{onClick:function(){n.pathname!==ye[0].path&&a.push(ye[0].path);var t=document.getElementById(e.table_name);null===t||void 0===t||t.scrollIntoView()},children:e.table_name},e.table_name)})):[]}),[t]),j=i.a.useCallback((function(){return ye.map((function(e){var t=d(e.path);return e.hasSubMenu?Object(k.jsx)(ke.a,{title:e.title,onTitleClick:function(){return a.push(e.path)},icon:e.icon,children:t},e.title):Object(k.jsx)(m.a.Item,{icon:e.icon,onClick:function(){return a.push(e.path)},children:e.title},e.title)}))}),[t]);return Object(k.jsx)(m.a,{theme:"light",mode:"inline",selectedKeys:[s],style:{height:"100%"},children:j()})}u.a.Header;var Se=u.a.Sider,_e=u.a.Content;var Re=function(){var e=i.a.useState(!1),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(oe,{children:Object(k.jsx)(ce,{children:Object(k.jsx)(S,{children:Object(k.jsx)(s.a,{children:Object(k.jsxs)(u.a,{style:{height:"100vh",overflow:"hidden"},children:[Object(k.jsx)(d.a,{style:{margin:0,padding:0},bodyStyle:{padding:0},children:Object(k.jsxs)(j.a,{align:"middle",children:[Object(k.jsx)("div",{className:"trigger",onClick:function(){return a(!n)},children:n?Object(k.jsx)(b.a,{}):Object(k.jsx)(h.a,{})}),Object(k.jsx)("h1",{style:{padding:10},children:"CodeGen"}),Object(k.jsx)("div",{style:{flexGrow:1},children:" "}),Object(k.jsx)(l.c,{children:ye.map((function(e,t){return Object(k.jsx)(l.a,{path:e.path,exact:!0,children:e.action},"route-action-".concat(t))}))})]})}),Object(k.jsxs)(u.a,{style:{background:"white"},children:[Object(k.jsx)(Se,{collapsible:!0,style:{background:"#fff"},trigger:null,collapsed:n,children:Object(k.jsx)(we,{expanded:!n})}),Object(k.jsx)(_e,{style:{margin:"0px 0px",padding:0,minHeight:280},children:Object(k.jsx)(l.c,{children:ye.map((function(e,t){return Object(k.jsx)(l.a,{path:e.path,exact:!0,children:e.component},"route-".concat(t))}))})})]})]})})})})})})},Ie=function(e){e&&e instanceof Function&&n.e(75).then(n.bind(null,966)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};r.a.render(Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(Re,{})}),document.getElementById("root")),Ie()}},[[825,3,4]]]);
//# sourceMappingURL=main.83af48c8.chunk.js.map