(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{204:function(e,t,n){},345:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),s=n.n(c),i=(n(204),n(205),n(80)),o=n.n(i),l=n(98),u=n(99),d=n(100),j=n(193),b=n(192),h=function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,null,[{key:"getURL",value:function(e){return new URL(e,"https://cwvf54ckb6.execute-api.ap-east-1.amazonaws.com/dev/").href}}]),e}(),x=n(181),p=n.n(x),O=n(7),v=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).post=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({result:void 0}),t=h.getURL("generate"),console.log("url",t),e.next=5,p.a.post(t,{sql:a.state.code,table:a.state.tableStructure});case 5:n=e.sent,console.log(n.data),a.setState({result:n.data});case 8:case"end":return e.stop()}}),e)}))),a.setCode=function(e){a.setState({code:e}),window.localStorage.setItem("code",e)},a.setTable=function(e){a.setState({tableStructure:e}),window.localStorage.setItem("tableStructure",e)},a.state={setCode:a.setCode,setTable:a.setTable,post:a.post},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=window.localStorage.getItem("code"),t=window.localStorage.getItem("tableStructure");this.setState({code:null!==e&&void 0!==e?e:"",tableStructure:null!==t&&void 0!==t?t:""})}},{key:"render",value:function(){return Object(O.jsx)(g.Provider,{value:this.state,children:this.props.children})}}]),n}(a.Component),f={},g=r.a.createContext(f),m=n(38),w=n(138),C=n(350),y=n(349),S=n(82),k=n(44),T=n(351),L=n(120),I=n(194),E=n(137),P=n.n(E),F=n(139),q=n(34),B=n(140),N=n(352),R=n(195),G=n(353),H=n(191),J=n(182),U=n.n(J);function z(){var e=r.a.useContext(g).result;return Object(O.jsx)("div",{style:{height:500,width:500},children:e&&Object(O.jsx)(U.a,{data:e.joinGraph,orientation:"vertical",pathFunc:"step",translate:{y:100,x:200}})})}var A=n(190),D=n.n(A),M=n(189),_=n.n(M);function K(){var e=r.a.useContext(g).result;return Object(O.jsxs)(C.a,{children:[Object(O.jsx)(_.a,{level:5,children:"Table with errors"}),Object(O.jsx)("ul",{children:null===e||void 0===e?void 0:e.errorTables.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsx)(D.a,{children:e})},e)}))})]})}var Q=C.a.Title;C.a.Paragraph,C.a.Text,C.a.Link;function Y(){var e=r.a.useContext(g).result,t=r.a.useState(!1),n=Object(m.a)(t,2),a=n[0],c=n[1];return r.a.useEffect((function(){c(!1)}),[e]),Object(O.jsxs)(T.a,{style:{width:"100%",height:"90vh",overflow:"scroll"},children:[Object(O.jsx)(N.a,{style:{position:"fixed",top:110,right:40},children:Object(O.jsxs)(S.a,{gutter:[10,10],children:[Object(O.jsx)(k.a,{children:Object(O.jsx)(L.a,{onClick:function(){var t;navigator.clipboard.writeText(null!==(t=null===e||void 0===e?void 0:e.code)&&void 0!==t?t:""),c(!0)},children:a?"Copied":"Copy"})}),Object(O.jsx)(k.a,{children:Object(O.jsx)(R.a,{content:Object(O.jsx)(z,{}),placement:"leftBottom",children:Object(O.jsx)(L.a,{children:"Show Join Tree"})})})]})}),Object(O.jsx)(C.a,{children:Object(O.jsx)(Q,{children:"Result"})}),!1===(null===e||void 0===e?void 0:e.isFreeConnex)&&Object(O.jsx)(R.a,{content:Object(O.jsx)(K,{}),children:Object(O.jsx)(G.a,{type:"error",style:{marginBottom:10},message:"This query is not a free connex query. Check the join tree and reorder your join statement."})}),Object(O.jsx)(B.a,Object(q.a)(Object(q.a)({},B.b),{},{code:e.code,language:"cpp",theme:H.a,children:function(e){var t=e.className,n=e.style,a=e.tokens,r=e.getLineProps,c=e.getTokenProps;return Object(O.jsx)("pre",{className:t,style:n,children:a.map((function(e,t){return Object(O.jsx)("div",Object(q.a)(Object(q.a)({},r({line:e,key:t})),{},{children:e.map((function(e,t){return Object(O.jsx)("span",Object(q.a)({},c({token:e,key:t})))}))}))}))})}}))]})}var V=w.a.TabPane,W=C.a.Link;function X(){var e=r.a.useState(window.innerHeight),t=Object(m.a)(e,2),n=t[0],a=t[1],c=r.a.useState(!1),s=Object(m.a)(c,2),i=s[0],u=s[1];r.a.useEffect((function(){window.addEventListener("resize",(function(){a(window.innerHeight)}))}),[]);var d=r.a.useContext(g),j=d.setCode,b=d.setTable,h=d.code,x=d.tableStructure,p=d.result,v=d.post;return Object(O.jsxs)(P.a,{style:{maxHeight:"100vh",overflow:"hidden",padding:10},children:[Object(O.jsx)(y.a,{title:"CodeGen"}),Object(O.jsx)(E.Content,{children:Object(O.jsxs)(S.a,{style:{height:"80%"},gutter:[16,10],children:[Object(O.jsx)(k.a,{span:8,children:Object(O.jsxs)(T.a,{children:[Object(O.jsxs)(w.a,{defaultActiveKey:"1",onChange:function(){},children:[Object(O.jsx)(V,{tab:"SQL Statement",children:Object(O.jsx)(F.a,{height:n-300,language:"sql",value:h,options:{minimap:{enabled:!1}},onChange:function(e){e&&j(e)}})},"1"),Object(O.jsxs)(V,{tab:"Table structure",children:[Object(O.jsx)(C.a,{children:Object(O.jsx)(W,{target:"_blank",href:"https://github.com/sirily11/SECYAN-GEN/blob/master/examples/table_config.json",children:"Example Table Structure"})}),Object(O.jsx)(F.a,{height:n-300,value:x,language:"json",options:{minimap:{enabled:!1}},onChange:function(e){e&&b(e)}})]},"2")]}),Object(O.jsx)(S.a,{style:{justifyContent:"flex-end",marginTop:10},children:Object(O.jsx)(L.a,{type:"primary",loading:i,onClick:Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!0),0!==(null===h||void 0===h?void 0:h.length)&&0!==(null===x||void 0===x?void 0:x.length)){e.next=5;break}return window.alert("Invaild Input"),u(!1),e.abrupt("return");case 5:return e.prev=5,e.next=8,v();case 8:I.a.info({message:"Code generated"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),I.a.open({message:"Cannot generate code",description:"".concat(null===e.t0||void 0===e.t0||null===(t=e.t0.response)||void 0===t?void 0:t.data),duration:5});case 14:return e.prev=14,u(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[5,11,14,17]])}))),children:"Convert"})})]})}),Object(O.jsx)(k.a,{span:16,children:p&&Object(O.jsx)(Y,{})})]})})]})}var Z=function(){return Object(O.jsx)(v,{children:Object(O.jsx)(X,{})})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,354)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(Z,{})}),document.getElementById("root")),$()}},[[345,1,2]]]);
//# sourceMappingURL=main.639f037b.chunk.js.map