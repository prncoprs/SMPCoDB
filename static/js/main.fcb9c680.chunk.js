(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{154:function(e,t,a){},357:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(23),s=a.n(c),r=(a(154),a(29)),l=a(144),o=a(27),u=a(359),d=a(360),j=a(86),b=a(368),h=a(369),f=(a(211),a(150)),p=a(367),m=a(6),g=i.a.createContext({});function O(e){var t=e.children,a=i.a.useState([]),n=Object(r.a)(a,2),c=n[0],s=n[1],l=i.a.useState(!1),o=Object(r.a)(l,2),u=o[0],d=o[1];i.a.useEffect((function(){var e=localStorage.getItem("tableStructure");null!==e&&s(JSON.parse(e))}),[]),i.a.useEffect((function(){localStorage.setItem("tableStructure",JSON.stringify(c))}),[c]);var j=i.a.useCallback((function(e){localStorage.setItem("tableStructure",JSON.stringify(e)),s(e)}),[]),b={configs:c,setConfigs:j,setOpenRawConfigDialog:d,openRawConfigDialog:u};return Object(m.jsx)(g.Provider,{value:b,children:t})}var x=a(199),y=a(361),C=a(47),v=a(363),S=a(365),k={$schema:"http://json-schema.org/draft-06/schema#",type:"array",items:{$ref:"#/definitions/TableConfigElement"},definitions:{TableConfigElement:{type:"object",additionalProperties:!1,properties:{data_sizes:{type:"array",items:{type:"integer"}},data_paths:{type:"array",items:{type:"string"}},table_name:{type:"string"},columns:{type:"array",items:{$ref:"#/definitions/Column"}}},required:["columns","data_sizes","table_name"],title:"TableConfigElement"},Column:{type:"object",additionalProperties:!1,properties:{column_type:{type:"string"},name:{type:"string"}},required:["column_type","name"],title:"Column"}}};function _(){var e=i.a.useContext(g),t=e.setOpenRawConfigDialog,a=e.openRawConfigDialog,n=e.configs,c=e.setConfigs,s=i.a.useState(""),l=Object(r.a)(s,2),o=l[0],u=l[1],d=i.a.useCallback((function(){u(JSON.stringify(n,null,4)),t(!0)}),[n]),j=i.a.useCallback((function(){c(JSON.parse(o)),t(!1)}),[o]),b=i.a.useCallback((function(e){e.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:[{uri:"https://raw.githubusercontent.com/sirily11/SECYAN-GEN/master/examples/table_config.json",fileMatch:["*"],schema:k}]})}),[o]);return Object(m.jsxs)(y.a,{title:"Table Configuration",subTitle:"Config your table's info here",extra:[Object(m.jsx)(C.a,{type:"primary",onClick:d,children:"Set Raw Data"})],children:[Object(m.jsxs)(v.a,{style:{maxWidth:"800px"},children:["You can either use the raw Data Config Editor to modify your database table's infomation, or use the GUI below to modify your table. You can check this"," ",Object(m.jsx)(v.a.Link,{target:"_blank",href:"https://github.com/sirily11/SECYAN-GEN/blob/master/examples/table_config.json",children:"Link"})," ","for example table configuration."]}),Object(m.jsx)(S.a,{title:"Raw Data Configuration",visible:a,onOk:j,onCancel:j,footer:[Object(m.jsx)(C.a,{onClick:j,children:"Close"})],width:.8*window.innerWidth,children:Object(m.jsx)(x.a,{height:500,language:"json",options:{minimap:{enabled:!1}},beforeMount:function(e){return b(e)},value:o,onChange:function(e){u(null!==e&&void 0!==e?e:"")}})})]})}var w=a(40),D=a(205),z=a(362),T=a(50),E=a(364),I=a(203),N=a(366),q=a(204),J=a(108),P=a.n(J);function R(e){var t=e.config,a=e.index,n=i.a.useState(t.table_name),c=Object(r.a)(n,2),s=c[0],l=c[1],o=i.a.useState(!1),u=Object(r.a)(o,2),b=u[0],h=u[1],f=i.a.useContext(g),p=f.setConfigs,O=f.configs,x={path_size:t.data_sizes.map((function(e,a){return{path:t.data_paths[a],size:e}}))},y=i.a.useCallback((function(){O[a].table_name=s,p(O),h(!1)}),[s]),S=i.a.useCallback((function(e){var t=e.path_size.filter((function(e){return void 0!==e}));O[a].data_sizes=t.map((function(e){return parseInt(e.size)})),O[a].data_paths=t.map((function(e){return e.path})),p(O)}),[t]);return Object(m.jsxs)(d.a,{title:t.table_name,style:{margin:10},extra:[Object(m.jsx)(C.a,{shape:"circle",onClick:function(){return h(!0)},children:Object(m.jsx)(I.a,{})})],children:[Object(m.jsxs)(z.a,{name:"data_paths",title:"Data Sizes and",initialValues:x,onValuesChange:function(e,t){S(t)},children:[Object(m.jsx)(v.a.Title,{level:5,children:"Data Sizes and Paths"}),Object(m.jsx)(z.a.List,{name:"path_size",children:function(e,t){var a=t.add,n=t.remove;return Object(m.jsxs)(j.a,{gutter:[10,10],children:[e.map((function(e){var t=e.key,a=e.name,i=(e.fieldKey,Object(D.a)(e,["key","name","fieldKey"]));return Object(m.jsx)(T.a,{style:{display:"flex",marginBottom:8},xs:24,md:12,children:Object(m.jsxs)(j.a,{style:{width:"100%"},gutter:[20,10],children:[Object(m.jsx)(T.a,{md:10,xs:24,children:Object(m.jsx)(z.a.Item,Object(w.a)(Object(w.a)({},i),{},{name:[a,"size"],rules:[{required:!0,message:"Data Size is required"}],children:Object(m.jsx)(E.a,{placeholder:"Data size",type:"number"})}))}),Object(m.jsx)(T.a,{md:12,xs:22,children:Object(m.jsx)(z.a.Item,Object(w.a)(Object(w.a)({},i),{},{name:[a,"path"],rules:[{required:!0,message:"Data Path is required"}],children:Object(m.jsx)(E.a,{placeholder:"Data path"})}))}),Object(m.jsx)(T.a,{span:2,children:Object(m.jsx)(N.a,{className:"dynamic-delete-button",onClick:function(){return n(a)}})})]})},t)})),Object(m.jsx)(T.a,{xs:24,children:Object(m.jsx)(z.a.Item,{children:Object(m.jsx)(C.a,{type:"dashed",onClick:function(){return a()},block:!0,icon:Object(m.jsx)(q.a,{}),children:"Add field"})})})]})}}),Object(m.jsx)(v.a.Title,{level:5,children:"Table Columns"})]}),Object(m.jsx)(P.a,{visible:b,title:"Table name",onCancel:function(){l(t.table_name),h(!1)},onOk:y,children:Object(m.jsx)(E.a,{placeholder:"Table name",value:s,onChange:function(e){l(e.target.value)}})})]})}function L(){var e=i.a.useContext(g).configs;return Object(m.jsxs)("div",{style:{overflowY:"scroll",height:"100%"},children:[Object(m.jsx)(_,{}),e.map((function(e,t){return Object(m.jsx)(R,{config:e,index:t},"config-".concat(t))}))]})}var Y=[{path:"/",title:"Table Config",component:Object(m.jsx)(L,{}),icon:Object(m.jsx)(p.a,{})}];function F(){var e=Object(o.g)(),t=Object(o.f)(),a=i.a.useState(Y[0].title),n=Object(r.a)(a,2),c=n[0],s=n[1];return i.a.useEffect((function(){if(e.pathname!==Y[0].path){var t=Y.find((function(t){return e.pathname.includes(t.path)}));t&&s(null===t||void 0===t?void 0:t.title)}}),[e]),Object(m.jsx)(f.a,{theme:"light",mode:"vertical-left",selectedKeys:[c],style:{height:"100%"},children:Y.map((function(e){return Object(m.jsx)(f.a.Item,{icon:e.icon,onClick:function(){return t.push(e.path)},children:e.title},e.title)}))})}u.a.Header;var G=u.a.Sider,A=u.a.Content;var B=function(){var e=i.a.useState(!1),t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(m.jsx)("div",{style:{overflow:"hidden"},children:Object(m.jsx)(O,{children:Object(m.jsx)(l.a,{children:Object(m.jsxs)(u.a,{style:{height:"100vh",overflow:"hidden"},children:[Object(m.jsx)(d.a,{style:{margin:0,padding:0},bodyStyle:{padding:0},children:Object(m.jsxs)(j.a,{align:"middle",children:[Object(m.jsx)("div",{className:"trigger",onClick:function(){return n(!a)},children:a?Object(m.jsx)(b.a,{}):Object(m.jsx)(h.a,{})}),Object(m.jsx)("h1",{style:{padding:10},children:"CodeGen"})]})}),Object(m.jsxs)(u.a,{style:{background:"white"},children:[Object(m.jsx)(G,{collapsible:!0,style:{background:"#fff"},trigger:null,collapsed:a,children:Object(m.jsx)(F,{})}),Object(m.jsx)(A,{style:{margin:"0px 0px",padding:0,minHeight:280},children:Object(m.jsx)(o.c,{children:Y.map((function(e,t){return Object(m.jsx)(o.a,{path:e.path,exact:!0,children:e.component},"route-".concat(t))}))})})]})]})})})})},K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,370)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),c(e),s(e)}))};s.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(B,{})}),document.getElementById("root")),K()}},[[357,1,2]]]);
//# sourceMappingURL=main.fcb9c680.chunk.js.map