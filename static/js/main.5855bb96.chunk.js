(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{182:function(e,t,n){},301:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(20),s=n.n(r),o=(n(182),n(183),n(70)),i=n.n(o),l=n(90),u=n(91),d=n(92),j=n(171),b=n(169),h=function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,null,[{key:"getURL",value:function(e){return new URL(e,"https://cwvf54ckb6.execute-api.ap-east-1.amazonaws.com/dev").href}}]),e}(),p=n(157),x=n.n(p),O=n(11),g=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).post=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.getURL("generate"),console.log("url",t),e.next=4,x.a.post(t,{sql:a.state.code,table:a.state.tableStructure});case 4:n=e.sent,console.log(n.data),a.setState({result:n.data});case 7:case"end":return e.stop()}}),e)}))),a.setCode=function(e){a.setState({code:e}),window.localStorage.setItem("code",e)},a.setTable=function(e){a.setState({tableStructure:e}),window.localStorage.setItem("tableStructure",e)},a.state={setCode:a.setCode,setTable:a.setTable,post:a.post},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=window.localStorage.getItem("code"),t=window.localStorage.getItem("tableStructure");this.setState({code:null!==e&&void 0!==e?e:"",tableStructure:null!==t&&void 0!==t?t:""})}},{key:"render",value:function(){return Object(O.jsx)(v.Provider,{value:this.state,children:this.props.children})}}]),n}(a.Component),f={},v=c.a.createContext(f),m=n(34),w=n(123),C=n(306),S=n(305),y=n(72),k=n(41),T=n(307),L=n(107),I=n(167),E=n(122),P=n.n(E),F=n(124),N=n(30),R=n(125),B=n(308),G=n(172),H=n(166),J=n(158),U=n.n(J);function q(){var e=c.a.useContext(v).result;return Object(O.jsx)("div",{style:{height:300,width:300},children:e&&Object(O.jsx)(U.a,{data:e.joinGraph,orientation:"vertical",pathFunc:"step",translate:{y:100,x:100}})})}var z=C.a.Title;C.a.Paragraph,C.a.Text,C.a.Link;function A(){var e=c.a.useContext(v).result,t=c.a.useState(!1),n=Object(m.a)(t,2),a=n[0],r=n[1];return c.a.useEffect((function(){r(!1)}),[e]),Object(O.jsxs)(T.a,{style:{width:"100%",height:"90vh",overflow:"scroll"},children:[Object(O.jsx)(B.a,{style:{position:"fixed",top:110,right:40},children:Object(O.jsxs)(y.a,{gutter:[10,10],children:[Object(O.jsx)(k.a,{children:Object(O.jsx)(L.a,{onClick:function(){var t;navigator.clipboard.writeText(null!==(t=null===e||void 0===e?void 0:e.code)&&void 0!==t?t:""),r(!0)},children:a?"Copied":"Copy"})}),Object(O.jsx)(k.a,{children:Object(O.jsx)(G.a,{content:Object(O.jsx)(q,{}),placement:"leftBottom",children:Object(O.jsx)(L.a,{children:"Show Join Tree"})})})]})}),Object(O.jsx)(C.a,{children:Object(O.jsx)(z,{children:"Result"})}),Object(O.jsx)(R.a,Object(N.a)(Object(N.a)({},R.b),{},{code:e.code,language:"cpp",theme:H.a,children:function(e){var t=e.className,n=e.style,a=e.tokens,c=e.getLineProps,r=e.getTokenProps;return Object(O.jsx)("pre",{className:t,style:n,children:a.map((function(e,t){return Object(O.jsx)("div",Object(N.a)(Object(N.a)({},c({line:e,key:t})),{},{children:e.map((function(e,t){return Object(O.jsx)("span",Object(N.a)({},r({token:e,key:t})))}))}))}))})}}))]})}var D=w.a.TabPane,M=C.a.Link;function _(){var e=c.a.useState(window.innerHeight),t=Object(m.a)(e,2),n=t[0],a=t[1],r=c.a.useState(!1),s=Object(m.a)(r,2),o=s[0],u=s[1];c.a.useEffect((function(){window.addEventListener("resize",(function(){a(window.innerHeight)}))}),[]);var d=c.a.useContext(v),j=d.setCode,b=d.setTable,h=d.code,p=d.tableStructure,x=d.result,g=d.post;return Object(O.jsxs)(P.a,{style:{maxHeight:"100vh",overflow:"hidden",padding:10},children:[Object(O.jsx)(S.a,{title:"CodeGen"}),Object(O.jsx)(E.Content,{children:Object(O.jsxs)(y.a,{style:{height:"80%"},gutter:[16,10],children:[Object(O.jsx)(k.a,{span:8,children:Object(O.jsxs)(T.a,{children:[Object(O.jsxs)(w.a,{defaultActiveKey:"1",onChange:function(){},children:[Object(O.jsx)(D,{tab:"SQL Statement",children:Object(O.jsx)(F.a,{height:n-300,language:"sql",value:h,options:{minimap:{enabled:!1}},onChange:function(e){e&&j(e)}})},"1"),Object(O.jsxs)(D,{tab:"Table structure",children:[Object(O.jsx)(C.a,{children:Object(O.jsx)(M,{target:"_blank",href:"https://github.com/sirily11/SECYAN-GEN/blob/master/examples/table_config.json",children:"Example Table Structure"})}),Object(O.jsx)(F.a,{height:n-300,value:p,language:"json",options:{minimap:{enabled:!1}},onChange:function(e){e&&b(e)}})]},"2")]}),Object(O.jsx)(y.a,{style:{justifyContent:"flex-end",marginTop:10},children:Object(O.jsx)(L.a,{type:"primary",loading:o,onClick:Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!0),0!==(null===h||void 0===h?void 0:h.length)&&0!==(null===p||void 0===p?void 0:p.length)){e.next=4;break}return window.alert("Invaild Input"),e.abrupt("return");case 4:return e.prev=4,e.next=7,g();case 7:I.a.info({message:"Code generated"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),I.a.open({message:"Cannot generate code",description:"".concat(e.t0),duration:5});case 13:u(!1);case 14:case"end":return e.stop()}}),e,null,[[4,10]])}))),children:"Convert"})})]})}),Object(O.jsx)(k.a,{span:16,children:x&&Object(O.jsx)(A,{})})]})})]})}var K=function(){return Object(O.jsx)(g,{children:Object(O.jsx)(_,{})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,309)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(K,{})}),document.getElementById("root")),Q()}},[[301,1,2]]]);
//# sourceMappingURL=main.5855bb96.chunk.js.map